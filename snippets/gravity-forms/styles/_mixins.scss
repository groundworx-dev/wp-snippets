/**
 * Form Styling Mixins
 * 
 * Reusable form element styling patterns
 * 
 * @package Groundworx\Snippets
 * @author Johanne Courtright
 * @link https://groundworxagency.com
 * @version 1.0.0
 * @license GPL-2.0-or-later
 */

// =============================================================================
// Mixins
// =============================================================================

@mixin form-input {
  transition: all 200ms;
  appearance: none;
  font-family: inherit;
  font-size: 1em;
  border-width: var(--form--input--border--width);
  border-radius: var(--form--input--border--radius);
  border-style: var(--form--input--border--style);
  border-color: var(--form--input--border--color);

  padding: var(--form--input--padding-x) var(--form--input--padding-y);

  color: var(--form--input--text);
  background-color: var(--form--input--background);
  
  line-height: var(--form--input--lineheight);
}

@mixin form-input-focus {
  outline: none;
  border-color: color-mix(in srgb, var(--form--input--focus--color) 85%, #000000);
  box-shadow: 0 0 3px 2px var(--form--input--focus--color);
}

@mixin form-file {
  display: block;
  width: 100%;
  font-size: 1em;

  &::file-selector-button {
    padding: var(--form--input--padding-x) var(--form--input--padding-y);
    font-size: 0.75em;
    margin-right: 1ch;
    border-width: var(--form--input--border--width);
    border-radius: var(--form--input--border--radius);
    border-style: var(--form--input--border--style);
    border-color: var(--form--input--text);
    
    font-weight: 600;
    background-color: var(--form--input--text);
    color: var(--form--input--background);

    cursor: pointer;
    transition: all 200ms;
  }

  &::file-selector-button:hover {
    color: var(--form--input--background);
    background-color: color-mix(in srgb, var(--form--input--text) 85%, transparent);
  }
}

@mixin form-select {
  padding-right: calc(var(--form--select--arrow--width) + (var(--form--input--padding-x) * 2));
  background-repeat: no-repeat;
  background-position: calc(100% - var(--form--input--padding-x)) center;
  background-size: var(--form--select--arrow--width);
  appearance: none;
  background-image: var(--form--select--arrow);
}

@mixin form-checkbox-radio {
  appearance: none;
  width: 1em;
  height: 1em;
  margin-right: .5ch;
  font-size: 1em;
  position: relative;

  border-width: var(--form--input--border--width) !important;
  border-style: var(--form--input--border--style);
  border-color: var(--form--input--border--color);

  color: var(--form--input--text);
  background-color: var(--form--input--background);

  &::before {
    content: '';
    position: absolute;
    inset: 0;
    opacity: 0;
    transform: scale(0);
    transition: all 200ms;
  }

  &:checked {
    background-color: var(--form--checkbox-radio--background);
    border-color: color-mix(in srgb, var(--form--checkbox-radio--background) 85%, #000000);
    color: var(--form--checkbox-radio--text);
    &::before {
      background-color: currentColor;
      opacity: 1;
      transform: scale(1);
    }
  }
  
  &:disabled {
    cursor: not-allowed;
    opacity: 0.5;
    filter: grayscale(100%);
  }
}

@mixin form-checkbox {
  border-radius: 0;
  
  &::before {
    mask-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 16 16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M3 7.5l4 4 6-7' stroke='black' stroke-width='2.5' fill='none'/%3E%3C/svg%3E");
    mask-size: contain;
    mask-position: center;
    mask-repeat: no-repeat;
  }
}

@mixin form-radio {
  border-radius: 100%;
  
  &::before {
    border-radius: 100%;
    mask-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 16 16' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='8' cy='8' r='4' fill='black'/%3E%3C/svg%3E");
    mask-size: contain;
    mask-position: center;
    mask-repeat: no-repeat;
  }
}

@mixin custom-multiselect {
  color: var(--form--input--text);
  background-color: var(--form--input--background);
  border-color: var(--form--input--border);

  transition: all 300ms ease-in-out;
  position: relative;
  z-index: 10;
  display: inline-flex;
  align-items: center;
  text-align: left;
}